import gradio as gr
from TTS.api import TTS

tts = TTS(model_name="tts_models/multilingual/multi-dataset/xtts_v2")

def generate_voice(text, audio):
    output_path = "output.wav"
    tts.tts_to_file(
        text=text,
        speaker_wav=audio,
        language="en",
        file_path=output_path
    )
    return output_path

demo = gr.Interface(
    fn=generate_voice,
    inputs=[
        gr.Textbox(label="Enter Text"),
        gr.Audio(type="filepath", label="Upload Voice Sample (10-30 sec)")
    ],
    outputs=gr.Audio(label="Generated Voice"),
    title="AI Voice Clone",
    description="Upload a voice sample and generate AI speech"
)

demo.launch()
